<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Uonihon</title>
    <link rel="icon" href="asset/icon/favicon.ico">
    <link rel="icon" sizes="16x16" href="asset/icon/favicon-16x16.png">
    <link rel="icon" sizes="32x32" href="asset/icon/favicon-32x32.png">
    <link rel="icon" sizes="180x180" href="asset/icon/favicon-180x180.png">
    <link rel="icon" sizes="192x192" href="asset/icon/favicon-192x192.png">
    <link rel="icon" sizes="512x512" href="asset/icon/favicon-192x192.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100..900&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=EB+Garamond:ital,wght@0,400..800;1,400..800&display=swap" rel="stylesheet">
    <link rel="stylesheet/less" type="text/css" href="styles.less" />
    <script src="https://cdn.jsdelivr.net/npm/less"></script>
</head>

<body onload="getWord()">

    <script>

        const HOST = "http://" + window.location.host

        let words = ""
        let filtered = ""
        let sentences = ""
        let usage = ""
        let noKanjiMode = false
        let currentWord = undefined
        let currentFocus = undefined

        function getAllWords() {
            return fetch(HOST + "/word/words/all", {
                method: "GET", headers: { "Content-type": "application/json; charset=UTF-8" }
            }).then((response) => response.text()).then((response) => {
                words = response;
                filtered = words;
            }).catch(error => alert(error));
        }

        document.addEventListener('visibilitychange', (event) => {
            if (currentWord?.id) {
                saveCurrentWord()
            }
        });

        function saveCurrentWord() {
            if (currentWord.id == -1) {
                return
            }
            if (currentFocus != undefined) {
                currentWord.familiarity = (parseInt(currentWord.familiarity)+1) + ""
                currentWord.testAmount = (parseInt(currentWord.testAmount)+1) + ""
            }
            return fetch(HOST + "/word/save" + (currentFocus ? ("?" + new URLSearchParams({focus: currentFocus}).toString()) : ""), {
                method: "POST", keepalive: true, 
                headers: { "Content-type": "application/json; charset=UTF-8" },
                body: JSON.stringify(currentWord)
            }).catch(error => alert(error));
        }

        async function getWord(wordId, focus) {

            if (currentWord) {
                await saveCurrentWord()
            }

            currentFocus = focus

            const finalUrl = HOST 
                + "/word" 
                + (wordId ? `/${wordId}` : "") 
                + (currentFocus ? ("?" + new URLSearchParams({focus: focus}).toString()) : "")

            return fetch(finalUrl, {
                method: "GET",
                headers: {
                    "Content-type": "application/json; charset=UTF-8",
                }
            })
                .then((response) => response.json())
                .then((json) => {
                    resetObfuscation();
                    toHide = []
                    if (currentFocus=="writing") {
                        toHide = ['word','reading','explainer']
                    } else if (currentFocus=="reading") {
                        toHide = ['meaning','reading','alternative','explainer']
                    }
                    toHide.forEach(id => {
                        if (json[id] != "") {
                            document.getElementById(id).classList.add("obfuscated")
                        }
                    })
                    obf = v => ((v=='jp' && currentFocus=="writing") || (v=='tr' && currentFocus=="reading")) ? 'obfuscated' : ''

                    currentWord = {...json}


                    setDisplayedWordToCurrentWord()
                    switchWordListVisibility(false)
                })
                .catch(error => alert(error));
        }

        function explainerPrompt(word) {
            return {
                systemPrompt :
                    "You are an assistant AI specialized in helping french students in their learning of the japanese language.",
                userPrompt :
                    "Écrivez une petite explication qui contextualise l'usage du mot japonais \""+word+"\". "
                        +"La petite explication doit rester courte, deux ou trois phrases, et ne doit ni donner d'exemple d'usage, ni donner de définition. "
                        +"Elle doit simplement donner les contextes d'utilisation les plus courants. "
                        +"Si les contextes d'utilisation de "+word+" sont très évident (par exemple si ce sont exactement les même qu'en français), "
                        +"donnez simplement le sens du mot en une courte phrase, "
                        +"en précisant que le mot s'utilise de la même façon qu'en français.",
            }
        }

        function sentencePrompt(word) {
            return {
                systemPrompt : 
                    "You are an assistant AI specialized in japanese teaching and japanese to french translations "
                        +"that always directly returns valid JSON formatted answers of the requested format. "
                        +"The responses must be parsable JSON objects, so the answers can't contain preambules, explanations, "
                        +"or anything other then the JSON object.",
                userPrompt :
                    "Écris une phrase en japonais qui illustre parfaitement l'usage typique du mot japonais \""+word+"\", "
                        +"ainsi que sa traduction en français. La phrase doit permettre de bien comprendre comment utiliser le mot \""+word+"\", "
                        +"et la traduction française doit fidélement retranscrire le sens de la phrase. "
                        +"Le format de la réponse DOIT être un objet JSON qui suit le schéma : "
                        +"{ japanese: \"<phrase japonaise utilisant "+word+">\", translation: \"<traduction française>\" }",
            }
        }

        function meaningPrompt(word) {
            return {
                systemPrompt : 
                    "You are a japanese to french translation system that has a singular function : taking a japanese word or idiom as input, "
                        +"and returning the best translations possible for it, in french. You don't give explanations or prembules, "
                        +"only the translations, separated by commas (\",\"), with the best and most common translation first. "
                        +"Do NOT give suppmimentary translations if they are redundant: if a word has one perfect and direct translation, only return that.",
                userPrompt :
                    word
            }
        }

        function readingPrompt(word) {
            return {
                systemPrompt: 
                    "あなたはふりがな生成器で、どんな日本語の単語でも入力として受け取り、その仮名形を返すことができます。"
                        +"返答では、文章や説明、前置きを書かず、リクエストされた単語の仮名形のみを直接提供し、それ以外は何も書かないでください。"
                        +"要求された単語に漢字が含まれていない場合、その単語は必ず元のまま返されなければならない。",
                userPrompt: 
                    word
            }
        }


        let ARLIAI_API_KEY = "5a106e75-87b5-4a10-805a-d927325cc77e"
        let MEDIUM_MODEL = "Mistral-Nemo-12B-Instruct-2407"
        let SMALL_MODEL = "Meta-Llama-3.1-8B-Instruct"
        let listOfRequestsToLlm = []

        function getTextFromLlm(prompt, model, strict, doWithResult) {
            listOfRequestsToLlm.push(() => {
                fetch("https://api.arliai.com/v1/chat/completions", {
                    method: "POST",
                    headers: {
                        "Authorization": `Bearer ${ARLIAI_API_KEY}`,
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        "model": model,
                        "messages": [
                            { "role": "system",
                              "content": prompt.systemPrompt},
                            { "role": "user",
                              "content": prompt.userPrompt}
                        ],
                        "temperature": strict ? 0.1 : 0.7,
                        "top_k": strict ? 3 : 40,
                        "max_tokens": 150
                    })
                })
                  .then(response => response.json())
                  .then(json => doWithResult(json.choices[0].message.content))
                  .catch(error => alert(error))
                  .finally(() => {
                    listOfRequestsToLlm.shift()
                    if (listOfRequestsToLlm.length > 0) {
                        listOfRequestsToLlm[0]()
                    }
                  })
            })
            if (listOfRequestsToLlm.length == 1) {
                listOfRequestsToLlm[0]()
            }
        }

        let dateFormat = new Intl.DateTimeFormat('fr-FR', {timeStyle:"short", dateStyle:"short"})

        function setDisplayedWordToCurrentWord() {
            document.getElementById('word').innerText = currentWord.word ?? "";
            document.getElementById('reading').innerText = currentWord.reading ?? "";
            document.getElementById('meaning').innerText = currentWord.meaning ?? "";
            document.getElementById('alternative').innerText = currentWord.alternative ?? "";
            document.getElementById('explainer').innerText = (currentWord.explainer?.replace(/\\n/g, "\n")) ?? "";
            document.getElementById('familiarity').innerText = currentWord.familiarity ?? "";
            document.getElementById('amount-seen-value').innerText = currentWord.testAmount ?? "";
            document.getElementById('date-last-seen-value').innerText = 
                ((currentWord.lastTestDate??"") == "") ? "" : dateFormat.format(Date.parse(currentWord.lastTestDate));

            switchNoKanjiMode(currentWord.useReading)
            switchUnlockedMode(currentWord.unlocked)

            let sentencesNode = document.getElementById('sentences-container');
            sentencesNode.replaceChildren();
            (currentWord.sentences ?? [])?.forEach(function (sentence, i) {
                let htmlSentence = `
                    <div class="line"> </div>
                    <div class="obfuscation-container" style="margin: 12px 0" onclick="obfuscateOrEdit(event, 'sentence${i + 1}')">
                    <div class="label">Phrase ${i + 1}</div>
                    <div id="sentence${i + 1}" class="card ${obf('jp')} long">${sentence.japanese}</div>
                    </div>
                    <div class="obfuscation-container" onclick="obfuscateOrEdit(event, 'translation${i + 1}')">
                    <div class="label">Traduction ${i + 1}</div>
                    <div id="translation${i + 1}" class="card ${obf('tr')} long">${sentence.translation}</div>
                    </div>
                `
                sentencesNode.insertAdjacentHTML('beforeend', htmlSentence)
            });


            if ((currentWord.reading??"") == "") {
                getTextFromLlm(readingPrompt(currentWord.word), MEDIUM_MODEL, true, (result) => {
                    currentWord.reading = result;
                    document.getElementById('reading').innerText = result;
                })
            }
            if ((currentWord.meaning??"") == "" && (currentWord.alternative??"") == "") {
                getTextFromLlm(meaningPrompt(currentWord.word), MEDIUM_MODEL, true, async (result) => {
                    while (!result || result == "" || result.includes(';') || (result.split(',')?.length??0) == 0 || result.split(',')[0] == "") {
                        await getTextFromLlm(meaningPrompt(currentWord.word), MEDIUM_MODEL, true, (next) => { result = next });
                    }
                    splitted = result.split(',')
                    currentWord.meaning = splitted.shift();
                    currentWord.alternative = splitted.join(',');
                    document.getElementById('meaning').innerText = currentWord.meaning;
                    document.getElementById('alternative').innerText = currentWord.alternative;
                });
            }
            if ((currentWord.explainer??"") == "") {
                getTextFromLlm(explainerPrompt(currentWord.word), MEDIUM_MODEL, true, (result) => {
                    currentWord.explainer = result;
                    document.getElementById('explainer').innerText = result;
                });
            }
            if (((currentWord.sentences??[])?.length??0) == 0) {
                currentWord.sentences = [{japanese:"",translation:""}]
            }
            if (currentWord.sentences.some(s => s.japanese == "" && s.translation == "")) {
                recursiveSentenceMaker()
            }
        }

        function obfuscateOrEdit(event, id) {
            simpleOrDoubleClickHandler(event, ()=>reveal(id), ()=>{reveal(id);edit(id)})
        }

        function simpleOrDoubleClickHandler(event, toCallIfSimpleClick, toCallIfDoubleClick) {
            if (event.detail === 1) {
                timer = setTimeout(() => {
                    toCallIfSimpleClick()
                }, 200)
            } else if (event.detail === 2) {
                clearTimeout(timer)
                toCallIfDoubleClick()
            }
        }

        function edit(divId) {
            const div = document.getElementById(divId);
            if (!div) return; // Exit if div not found

            // Make the div editable
            div.contentEditable = true;

            // Focus the div
            div.focus();

            // Select content
            const range = document.createRange();
            range.selectNodeContents(div);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);

            // Add event listener to handle when editing is complete
            div.addEventListener('blur', function handleEndOfEditing() {
                div.removeEventListener('blur', handleEndOfEditing);
                div.contentEditable = false;
                if (divId.includes("sentence") || divId.includes("translation")) {
                    if (div.textContent == "") {
                        currentWord.sentences.splice(parseInt(divId.match(/\d+/))-1, 1)
                    } else {
                        currentWord.sentences[parseInt(divId.match(/\d+/))-1][(divId.includes("sentence"))?"sentence":"translation"] = div.textContent
                    }
                }
                else if (divId == "familiarity") {
                    if (div.textContent != "" && /^\d+$/.test(div.textContent)) {
                        currentWord[divId] = div.textContent;
                    }
                }
                else if (divId == "word") {
                    if (div.textContent != "") {
                        currentWord[divId] = div.textContent;
                    }
                }
                else {
                    currentWord[divId] = div.textContent
                }
                setDisplayedWordToCurrentWord();
            });
        }

        function doSomething(toWrite) {
            fetch(HOST + "kanjis", {
                method: "POST",
                body: JSON.stringify({
                    message: toWrite
                }),
                headers: {
                    "Content-type": "application/json; charset=UTF-8"
                }
            })
                .then((response) => response.json())
                .then((json) => console.log(json))
                .catch(error => alert(error));
        }

        function setVisibleMainTab(tab) {
            alert("Pas implémenté !")
            var kanaTabNode = document.querySelector('.kanaTab');
            var kanjiTabNode = document.querySelector('.kanjiTab');
            var vocabularyTabNode = document.querySelector('.vocabularyTab');
            var toSetVisibleNode = document.querySelector('.' + tab);
            kanaTabNode.style.visibility = 'collapse';
            kanjiTabNode.style.visibility = 'collapse';
            vocabularyTabNode.style.visibility = 'collapse';
            toSetVisibleNode.style.visibility = 'visible';
            color = ""
            switch (tab) {
                case 'kanjiTab':
                    color = "lighten(@secondary,10%)"
                    break;
                case 'kanaTab':
                    color = "lighten(@tertiary,10%)"
                    break;
                default:
                    color = "lighten(@primary,10%)"
            }
            less.modifyVars({
                '@current-tab-color': color,
            });
        }

        async function switchWordListVisibility(goToWordList) {
            let listNode = document.querySelector('.words-list-activity');
            let testNode = document.querySelector('.word-tester-activity');
            let searchBarNode = document.getElementById('search-bar');
            if ((goToWordList??true) && listNode.style.display == 'none') {
                listNode.style.display = 'block'
                testNode.style.display = 'none';
                searchBarNode.addEventListener('input', filterWords);
                await getAllWords()
                setWordList(words)
            } else {
                searchBarNode.removeEventListener('input', filterWords)
                listNode.style.display = 'none';
                testNode.style.display = 'grid';
            }
        }

        function setWordList(wordList) {
            let listTableNode = document.querySelector('#word-list-table');
            listTableNode.replaceChildren();
            wordList.split('\n').forEach(function (wordLine, i) {
                if (wordLine == "") return
                let splittedLine = wordLine.split('|')
                let htmlSentence = `
                <tr id="wordListIdx${i + 1}" onclick="(async () => {await getWord('${splittedLine[0].trim()}'); })()">
                    <td>${splittedLine[1]}</td>
                    <td>${splittedLine[2]}sighzeoiugzhoihgzoighzeighzeighzoiehgsighzeoiugzhoihgzoighzeighzeighzoiehgsighzeoiugzhoihgzoighzeighzeighzoiehg</td>
                    <td>${splittedLine[3]}</td>
                    <td>${splittedLine[4]}</td>
                </tr>`
                listTableNode.insertAdjacentHTML('beforeend', htmlSentence)
            });
        }

        function startSearchingInWordList() {
            switchWordListVisibility(true)
            filtered = words
            let searchBarInputNode = document.getElementById('search-bar-input');
            searchBarInputNode.value = ""
            searchBarInputNode.focus();
        }

        function filterWords(event) {
            setWordList((words.split('\n').filter(w => w.includes(event.target.value))).join('\n'))
        }

        function resetObfuscation() {
            let elements = document.getElementsByClassName("card")
            Array.from(elements).forEach(e => {
                if (e.classList.contains("obfuscated")) {
                    e.classList.remove("obfuscated");
                }
            })
        }

        function reveal(id) {
            document.getElementById(id).classList.remove("obfuscated");
        }

        function switchNoKanjiMode(value) {
            currentWord.useReading = value??(currentWord.useReading=="0" ? "1" : "0")
            const isNoKanji = currentWord.useReading == "0" ? false : true
            document.getElementById("no-kanji-checkbox").checked = isNoKanji
            document.getElementById('word').innerText = isNoKanji ? currentWord.reading : currentWord.word
            document.getElementById("no-kanji-label").style.visibility = isNoKanji ? 'visible' : 'collapse'
        }
        function switchUnlockedMode(value) {
            currentWord.unlocked = value??(currentWord.unlocked=="0" ? "1" : "0")
            const unlocked = currentWord.unlocked == "0" ? false : true            
            document.getElementById("unlocked-checkbox").checked = unlocked
        }

        function showDeletionConfirmation() {
            let element1 = document.getElementById("cancel-deletion-button")
            let element2 = document.getElementById("confirm-deletion-button")
            if (element1.style.visibility == "visible") {
                element1.style.visibility = "collapse"
                element2.style.visibility = "collapse"
            } else {
                element1.style.visibility = "visible"
                element2.style.visibility = "visible"
            }
        }

        function addNewSentence() {
            if ((currentWord?.sentences??[]).length == 0) {
                currentWord.sentences = [];
            }
            currentWord.sentences.push({japanese:"", translation:""});
            setDisplayedWordToCurrentWord();
            recursiveSentenceMaker();
        }

        function recursiveSentenceMaker() {
            getTextFromLlm(sentencePrompt(currentWord.word), MEDIUM_MODEL, false, (result) => {
                if ((currentWord?.sentences??[]).length == 0) {
                    currentWord.sentences = [];
                }
                let parsed = undefined;
                try {
                    parsed = JSON.parse(result);
                } catch(e) {
                    return recursiveSentenceMaker();
                }
                if (!parsed.japanese || !parsed.translation || !parsed.japanese.includes(currentWord.word) || parsed.translation == "") {
                    return recursiveSentenceMaker();
                }
                for (let i = 0; i < currentWord.sentences.length; i++) {
                    if (currentWord.sentences[i].japanese == "" && currentWord.sentences[i].translation == "") {
                        currentWord.sentences[i] = parsed;
                        setDisplayedWordToCurrentWord();
                        break;
                    }
                }
            });
        }

        function addWord() {
            let wordToAdd = document.getElementById('search-bar-input').value
            currentWord = {
                id: -1,
                word: wordToAdd,
                reading: "",
                meaning: "",
                alternative: "",
                explainer: "",
                unlocked: "1",
                useReading: "0",
                familiarity: "0",
                testAmount: "0",
                lastTestDate: new Date().toISOString(),
                sentences: [{japanese:"",translation:""}],
            }
            setDisplayedWordToCurrentWord();
            switchWordListVisibility(false);
        }

        function switchTabsVisibility(visible) {
            let tabs = document.getElementsByClassName('tab')
            for (let i = 0; i < tabs.length; i++) {
                if (visible) {
                    tabs[i].style = {}
                } else {
                    tabs[i].style.display = 'none'
                }
            }
        }

    </script>

    <div class="uonihon-html-divided-in-two-main-spaces">
        <div class="uonihon-main-space top-main-space">
            <div class="uonihon-app vocabulary-app">
                <div class="word-tester-activity" >


                    <div class="line1 line"> </div>
                    <div class="line5 line thicker"> </div>
                    <div class="line3 line"> </div>
                    <div class="line4 line "> </div>

                    <div class="word obfuscation-container" onclick="obfuscateOrEdit(event, 'word')" >
                        <div class="label">Mot <span id="no-kanji-label">(Sans Kanji)</span></div>
                        <div id='word' class="card big-font">
                        </div>
                    </div>
                    <div class="reading obfuscation-container" onclick="obfuscateOrEdit(event, 'reading')">
                        <div class="label">Prononciation</div>
                        <div id="reading" class="card big-font"></div>
                    </div>

                    <div class="meaning obfuscation-container" onclick="obfuscateOrEdit(event, 'meaning')">
                        <div class="label">Sens Principal</div>
                        <div id="meaning" class="card"></div>
                    </div>

                    <div class="alternative obfuscation-container" onclick="obfuscateOrEdit(event, 'alternative')">
                        <div class="label">Autres Sens</div>
                        <div id="alternative" class="card">
                        </div>
                    </div>

                    <div class="explainer obfuscation-container" onclick="obfuscateOrEdit(event, 'explainer')">
                        <div class="label">Explications</div>
                        <div id="explainer" class="card align-start"></div>
                    </div>

                    <div id="sentences-container" class="sentences">
                    </div>

                    <div id="sentences-Adder" class="sentenceAdd card even-padding" onclick="addNewSentence()">
                        <img src="asset/cross.png" class="icon small"></button>
                        <span class="small">Ajouter une phrase</span>
                    </div>

                    <div id="no-kanji-choice" class="noKanji card even-padding" onclick="switchNoKanjiMode()">
                        <input type="checkbox" autocomplete="off" id="no-kanji-checkbox" class="checkbox-style" onclick="switchNoKanjiMode()">
                        <span class="checkbox-label">Mode Sans-Kanji</span>
                    </div>

                    <div id="familiarity-choice" class="familiarityDisplay card even-padding" onclick="obfuscateOrEdit(event, 'familiarity')">
                        Familiarité :&nbsp
                        <span id="familiarity"></span>
                    </div>

                    <div class="moreInfo sub-footer">
                        <span id="amount-seen-info">Nombre de fois vus : <span id="amount-seen-value"></span></span>
                        <span id="date-last-seen">&nbsp&nbsp&nbspDate du dernier test : <span id="date-last-seen-value"></span></span>
                    </div>

                    <div id="unlocked-choice" class="unlocked card even-padding" onclick="switchUnlockedMode()">
                        <input type="checkbox" autocomplete="off" id="unlocked-checkbox" class="checkbox-style">
                        <span class="checkbox-label">Évaluable</span>
                    </div>

                    <div id=" delete-choice" class="delete card even-padding" onclick="showDeletionConfirmation()">
                        Supprimer
                    </div>

                    <div class="nothing"></div>

                    <div class="nothing"></div>

                    <div id="confirm-deletion-button" class="confirm card even-padding" onclick="deleteCurrentWord()" style="visibility: collapse;">
                        Confirmer
                    </div>

                    <div id="cancel-deletion-button" class="cancel card even-padding" onclick="showDeletionConfirmation()" style="visibility: collapse;">
                        Annuler
                    </div>
                </div>

                <div class="words-list-activity" style="display: none;">
                    
                    <div id="search-bar" class="wordInput no-padding primary-background">
                        <input id="search-bar-input" type="search" class="word-search-input" onfocusin="switchTabsVisibility(false)" onfocusout="switchTabsVisibility(true)"></input>
                        <div id="add-word-button" class="no-padding primary-background add-word-button" onclick="addWord()">
                            <img class="icon" src="asset/cross.png" alt="cross-icon"> Ajouter
                        </div>
                    </div>

                    <table class="elegant-table"><thead>
                        <tr>
                            <th>Mot</th>
                            <th>Kana</th>
                            <th>Sens</th>
                            <th>Autres</th>
                        </tr></thead>
                        <tbody id="word-list-table">
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="uonihon-app kanji-app" style="visibility: collapse;">
                this is the kanji tab Start
                <div class="wideguy secondary-background"></div>
                this is the kanji tab End
            </div>
            <div class="uonihon-app kana-app" style="visibility: collapse;">
                this is the kana tab Start
                <div class="wideguy tertiary-background"></div>
                this is the kana tab End
            </div>
        </div>

        <div class="uonihon-main-space bottom-main-space">

            <div class="tab reading inline" onclick="getWord(null, 'reading')">
                <img class="icon" src="asset/arrow-down.png" alt="Vocabulary icon">
                <div class="tab-text">Lire</div>
            </div>

            <div class="tab search inline" onclick="startSearchingInWordList()">
                <img class="icon" src="asset/search.png" alt="Kanji icon">
            </div>

            <div class="tab writing inline" onclick="getWord(null, 'writing')">
                <img class="icon" src="asset/arrow-up.png" alt="Kanji icon">
                <div class="tab-text">Dire</div>
            </div>

            <div class="tab vocabulary primary-background" onclick="setVisibleMainTab('vocabularyTab')">
                <img class="icon" src="asset/letterW.png" alt="Vocabulary icon">
                <div class="tab-text">Vocabulaire</div>
            </div>

            <div class="tab kanji secondary-background" onclick="setVisibleMainTab('kanjiTab')">
                <img class="icon" src="asset/complicatedKanji.png" alt="Kanji icon">
                <div class="tab-text">Kanji</div>
            </div>

            <div class="tab kana tertiary-background" onclick="setVisibleMainTab('kanaTab')">
                <img class="icon" src="asset/HiraganaKa.png" alt="Kana icon">
                <div class="tab-text">Kana</div>
            </div>
                
        </div>

    </div>

</body>

</html>